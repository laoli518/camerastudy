# camerastudy
# SLAM入门之视觉里程计（2）：相机模型

## 小孔成像模型
相机成像过程是将三维空间中的点映射到成像平面的过程，可以通过小孔成像模型来描述。

### 几何关系
- **相机坐标系**：以焦点Oc为原点，坐标轴Xc, Yc, Zc。
- **图像坐标系**：以成像平面中心O'为原点，坐标轴x', y'。

### 变换关系
- 三维点P在相机坐标系中的坐标为 \( Pc = [X, Y, Z]^T \)。
- 像点p在图像坐标系中的坐标为 \( p = [x, y]^T \)。
- 焦距f：焦点到成像平面的距离。

## 齐次坐标
引入新的坐标维度，将三维坐标线性化，方便矩阵乘法处理。

### 坐标转换
- 原始坐标 \( P = (X, Y, Z) \) 转换为齐次坐标 \( [x^, y^, z^] = [X/Z, Y/Z, 1] \)。

## 内参数
相机的内参数包括：
- 焦距f。
- 成像平面坐标系到像素坐标系的变换，涉及缩放和平移。

### 内参数矩阵（Camera Intrinsics）K
$$
K = \begin{bmatrix}
fx & 0 & cx \\
0 & fy & cy \\
0 & 0 & 1
\end{bmatrix}
$$

## 外参数
外参数描述相机坐标系到世界坐标系的变换。

### 外参数（Camera Extrinsics）T
$$
T = \begin{bmatrix}
R & t \\
0 & 1
\end{bmatrix}
$$
- R：旋转矩阵。
- t：平移向量。

## 内外参数组合
将内外参数组合，形成相机矩阵，用于将三维点投影到二维成像平面。

### 相机矩阵
$$
\begin{bmatrix}
\mu \\
\nu \\
1
\end{bmatrix} =
\begin{bmatrix}
f_x & 0 & c_x \\
0 & f_y & c_y \\
0 & 0 & 1
\end{bmatrix}
\times
\begin{bmatrix}
R & t \\
0 & 1
\end{bmatrix}
\times
\begin{bmatrix}
X_w \\
Y_w \\
Z_w \\
1
\end{bmatrix}
$$

## 总结
本文总结了三维点投影到二维成像平面的过程，包括：
- 小孔成像原理。
- 齐次坐标的引入。
- 内参数和外参数的定义及计算。
- 相机矩阵的构建。
